{"version":3,"sources":["containers/Start/RouteHandle/index.js","js/constants/action-types.js","js/actions/index.js","containers/GetName/index.js","components/Player/index.js","components/SpaceStation/index.js","components/Grid/index.js","containers/GameStage/index.js","containers/MainGame/index.js","containers/routes.js","containers/Start/index.js","App.js","serviceWorker.js","js/reducers/index.js","js/store/index.js","index.js"],"names":["RouteHandle","routes","this","props","Object","keys","map","item","i","disabled","key","exact","path","component","Component","ADD_PLAYERNAME","ADD_WEBSOCKET","addPlayername","payload","type","addWebSocket","GetName","state","playerName","socket","webSocket","tempPlayerName","setPlayerName","bind","changeTempPlayerName","readyForRedirect","findCookieCallSign","onopen","setInterval","send","JSON","stringify","command","onmessage","event","console","log","target","value","setState","Cookies","set","expires","undefined","get","callsign","to","className","InputGroup","Input","onChange","placeholder","InputGroupAddon","addonType","Button","onClick","connect","dispatch","Player","image","x","y","scale","Grid","xMove","yMove","gameWidth","gameHeight","playerLocation","players","handleKeyPress","moveX","moveY","convertCordsToGrid","drawPlayers","data","parse","EventType","Target","EventParams","playerCords","window","addEventListener","code","direction","cordChange","newLocation","newCords","player","gridCords","error","width","height","options","backgroundColor","GameStage","parentDivDimensions","MainGame","isPlayernameSet","renderGameStage","GameDiv","React","createRef","current","offsetWidth","offsetHeight","ref","ROUTES","Start","App","Boolean","location","hostname","match","initialState","WebSocket","rootReducer","action","assign","store","createStore","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d313fe25.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport { Route } from 'react-router-dom'\n\nclass RouteHandle extends Component {\n  render() {\n    const { routes } = this.props;\n    const items = Object.keys(routes);\n    return items.map((item, i) => {\n      if (!routes[item].disabled) {\n        return (\n          <Route\n            key={i}\n            exact\n            path={routes[item].path}\n            component={routes[item].component}\n          />\n        )\n      } else {\n        return null\n      }\n    })\n  }\n}\n\nexport default RouteHandle;\n","export const ADD_PLAYERNAME = \"ADD_PLAYERNAME\"\nexport const ADD_WEBSOCKET = \"ADD_WEBSOCKET\"\n","import { ADD_PLAYERNAME, ADD_WEBSOCKET } from '../constants/action-types'\n\nexport function addPlayername(payload) {\n  return { type: ADD_PLAYERNAME, payload }\n};\nexport function addWebSocket(payload) {\n  return { type: ADD_WEBSOCKET, payload }\n}\n","import React, { Component } from \"react\";\nimport { InputGroup, InputGroupAddon, Button, Input } from \"reactstrap\";\nimport \"./styles.css\";\nimport { connect } from \"react-redux\";\nimport { addPlayername, addWebSocket } from \"../../js/actions/index\";\nimport { Redirect } from 'react-router-dom'\nimport Cookies from 'js-cookie'\n\nfunction mapDispatch(dispatch) {\n  return {\n    addPlayername: playerName => dispatch(addPlayername(playerName)),\n    addWebSocket: webSocket => dispatch(addWebSocket(webSocket))\n  };\n}\n\nconst mapStateToProps = state => {\n  return { webSocket: state.webSocket };\n}\n\nclass GetName extends Component {\n  constructor(props) {\n        super(props);\n        this.state = {\n          playerName: -1,\n          socket: this.props.webSocket\n        }\n\n        this.tempPlayerName = \"\"\n\n        this.setPlayerName = this.setPlayerName.bind(this)\n        this.changeTempPlayerName = this.changeTempPlayerName.bind(this)\n        this.readyForRedirect = this.readyForRedirect.bind(this)\n        this.findCookieCallSign = this.findCookieCallSign.bind(this)\n  }\n\n  componentDidMount() {\n    this.state.socket.onopen = () => {\n      setInterval(() => {\n        this.state.socket.send(\n          JSON.stringify({\n            command: \"ping\"\n          })\n        )\n      }, 10000)\n    }\n    this.state.socket.onmessage = (event) => {\n      console.log(event)\n    }\n  }\n\n  changeTempPlayerName(event) {\n    this.tempPlayerName = event.target.value\n  }\n  setPlayerName() {\n    if (this.tempPlayerName !== \"\") {\n      this.setState({playerName: this.tempPlayerName}, () => {\n        const playerName = this.tempPlayerName\n        Cookies.set('callsign', playerName, { expires: 5 })\n        this.props.addPlayername(playerName)\n      })\n    }\n  }\n  findCookieCallSign() {\n    if (Cookies.get('callsign') !== undefined) {\n      this.setState({playerName: this.tempPlayerName}, () => {\n        const playerName = Cookies.get('callsign')\n        this.props.addPlayername(playerName)\n        this.state.socket.onopen = () => {\n          this.state.socket.send(\n            JSON.stringify({\n              command: \"setCallsign\",\n              callsign: playerName\n            })\n          )\n          setInterval(() => {\n            this.state.socket.send(\n              JSON.stringify({\n                command: \"ping\"\n              })\n            )\n          }, 10000)\n        }\n      })\n    }\n  }\n\n  readyForRedirect() {\n    if (this.state.playerName !== -1) {\n      return <Redirect to=\"/game\" />\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"get-name-background\">\n        {this.findCookieCallSign()}\n        {this.readyForRedirect()}\n        <div className=\"username-card\">\n          <h1>Trade Wars!</h1>\n          <InputGroup>\n            <Input onChange={this.changeTempPlayerName} placeholder=\"Username\" />\n            <InputGroupAddon addonType=\"append\">\n              <Button onClick={this.setPlayerName}>Play</Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nexport default connect(mapStateToProps, mapDispatch)(GetName)\n","import { Sprite } from '@inlet/react-pixi';\nimport React, { Component } from \"react\";\n\nclass Player extends Component {\n  render() {\n    return (\n      <Sprite\n        image=\"https://cdn1.iconfinder.com/data/icons/space-133/64/spaceship-planet-space-colony-city-512.png\"\n        x={this.props.x}\n        y={this.props.y}\n        scale={{ x: 0.05, y: 0.05}}\n      />\n    );\n  }\n}\n\nexport default Player\n","import { Sprite } from '@inlet/react-pixi';\nimport React, { Component } from \"react\";\n\nclass SpaceStation extends Component {\n  render() {\n    return (\n      <Sprite\n        image=\"https://www.gfxmag.com/wp-content/uploads/2017/01/satellite-emoji-vector-icon-1.png\"\n        x={this.props.x}\n        y={this.props.y}\n        scale={{ x: 0.5, y: 0.5}}\n      />\n    );\n  }\n}\n\nexport default SpaceStation\n","import { Graphics, Stage } from '@inlet/react-pixi';\nimport React, { Component } from \"react\";\nimport Player from '../Player'\nimport SpaceStation from '../SpaceStation'\nimport { Modal, ModalBody, ModalFooter, Button, ModalHeader } from 'reactstrap'\nimport { connect } from \"react-redux\";\nimport Cookies from 'js-cookie'\nimport { addPlayername, addWebSocket } from \"../../js/actions/index\";\n\nfunction mapDispatch(dispatch) {\n  return {\n    addPlayername: playerName => dispatch(addPlayername(playerName)),\n    addWebSocket: webSocket => dispatch(addWebSocket(webSocket))\n  };\n}\n\nconst mapStateToProps = state => {\n  return { webSocket: state.webSocket };\n}\n\nclass Grid extends Component {\n  constructor(props) {\n    super(props);\n\n    this.xMove = 0\n    this.yMove = 0\n\n    this.state = {\n      gameWidth: this.props.gameWidth,\n      gameHeight: this.props.gameHeight,\n      playerLocation: {\n        x: 0,\n        y: 0\n      },\n      players: {}\n    }\n\n    this.handleKeyPress = this.handleKeyPress.bind(this)\n    this.moveX = this.moveX.bind(this)\n    this.moveY = this.moveY.bind(this)\n    this.convertCordsToGrid = this.convertCordsToGrid.bind(this)\n    this.drawPlayers = this.drawPlayers.bind(this)\n  }\n\n  componentDidMount() {\n    this.findCookieCallSign()\n    this.props.webSocket.onopen = () => {\n      setInterval(() => {\n        this.props.webSocket.send(\n          JSON.stringify({\n            command: \"ping\"\n          })\n        )\n      }, 10000)\n    }\n    this.props.webSocket.onmessage = (event) => {\n      var data = JSON.parse(event.data)\n      if (data.EventType === \"positionUpdate\" && data.Target !== Cookies.get('callsign')) {\n        this.setState({players: {\n          [data.Target]: data.EventParams\n        }})\n      }\n    }\n    this.setState({\n      gameWidth: this.state.gameWidth - (this.state.gameWidth * 0.012),\n      gameHeight: this.state.gameHeight - (this.state.gameHeight * 0.015)\n    }, () => {\n      this.xMove = this.state.gameWidth/20\n      this.yMove = this.state.gameHeight/20\n      this.setState({\n        playerLocation: {\n          x: this.xMove,\n          y: this.yMove - (this.yMove/2)\n        },\n        playerCords: {\n          x: 0,\n          y: 0\n        }\n      })\n    })\n    window.addEventListener(\"keydown\", this.handleKeyPress)\n  }\n\n  handleKeyPress(event) {\n    switch (event.code) {\n      case \"ArrowUp\":\n        this.moveY(-1 * this.yMove, 1)\n        break\n      case \"ArrowDown\":\n        this.moveY(this.yMove, -1)\n        break\n      case \"ArrowLeft\":\n        this.moveX(-1 * this.xMove, 1)\n        break\n      case \"ArrowRight\":\n        this.moveX(this.xMove, -1)\n        break\n      default:\n        break\n    }\n  }\n  moveY(direction, cordChange) {\n    var newLocation = {\n      y: this.state.playerLocation.y + direction,\n      x: this.state.playerLocation.x\n    }\n    var newCords = {\n      y: this.state.playerCords.y + cordChange,\n      x: this.state.playerCords.x\n    }\n    if (newLocation.y >= 0 && newLocation.y <= this.state.gameHeight) {\n      this.setState({\n        playerLocation: {\n          x: newLocation.x,\n          y: newLocation.y\n        },\n        playerCords: {\n          x: newCords.x,\n          y: newCords.y\n        }\n      }, () => {\n          this.props.webSocket.send(\n            JSON.stringify({\n              command: \"setOwnPosition\",\n              x: this.state.playerCords.x,\n              y: this.state.playerCords.y\n            })\n          )\n      })\n    }\n  }\n  moveX(direction, cordChange) {\n    var newLocation = {\n      y: this.state.playerLocation.y,\n      x: this.state.playerLocation.x + direction\n    }\n    var newCords = {\n      y: this.state.playerCords.y,\n      x: this.state.playerCords.x + cordChange\n    }\n    if (newLocation.x + direction >= 0 && newLocation.x <= this.state.gameWidth) {\n      this.setState({\n        playerLocation: {\n          x: newLocation.x,\n          y: newLocation.y\n        },\n        playerCords: {\n          x: newCords.x,\n          y: newCords.y\n        }\n      }, () => {\n          this.props.webSocket.send(\n            JSON.stringify({\n              command: \"setOwnPosition\",\n              x: this.state.playerCords.x,\n              y: this.state.playerCords.y\n            })\n          )\n      })\n    }\n  }\n\n  findCookieCallSign() {\n    if (Cookies.get('callsign') !== undefined) {\n      this.setState({playerName: this.tempPlayerName}, () => {\n        const playerName = Cookies.get('callsign')\n        this.props.addPlayername(playerName)\n        this.props.webSocket.onopen = () => {\n          this.props.webSocket.send(\n            JSON.stringify({\n              command: \"setCallsign\",\n              callsign: playerName\n            })\n          )\n          setInterval(() => {\n            this.props.webSocket.send(\n              JSON.stringify({\n                command: \"ping\"\n              })\n            )\n          }, 10000)\n          this.props.webSocket.send(\n            JSON.stringify({\n              command: \"getAllPosition\",\n            })\n          )\n        }\n      })\n    }\n  }\n\n  convertCordsToGrid(x, y) {\n    return {\n      x: -1 * (this.xMove * x),\n      y: -1 * (this.yMove * y)\n    }\n  }\n\n  drawPlayers() {\n    const players = Object.keys(this.state.players);\n    return players.map((player, i) => {\n      try {\n        var gridCords = this.convertCordsToGrid(this.state.players[player].x, this.state.players[player].y)\n        return <Player key={player} x={gridCords.x} y={gridCords.y} />\n      } catch(error) {\n        //... nothing\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div>\n        <Stage width={this.state.gameWidth} height={this.state.gameHeight} options={{ backgroundColor: 0x1d2230 }}>\n          <Graphics\n            x={0}\n            y={0}\n          />\n          <Player x={this.state.playerLocation.x} y={this.state.playerLocation.y} />\n          {this.drawPlayers()}\n        </Stage>\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatch)(Grid)\n\n\n// Put this in a Grapics Component to have interaction\n// interactive={true}\n// pointerdown={(event) => {this.updatePlayerLocation(event)}}\n// draw={g => {\n//   g.beginFill(0x1d2230);\n//   g.drawRect(0, 0, this.state.gameWidth, this.state.gameHeight);\n//   g.endFill();\n// }}\n","import React, { Component } from \"react\";\nimport Grid from '../../components/Grid'\n\nclass GameStage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = this.props.parentDivDimensions\n  }\n\n  componentDidMount() {\n    this.setState({\n      gameWidth: this.state.gameWidth - (this.state.gameWidth * 0.012),\n      gameHeight: this.state.gameHeight - (this.state.gameHeight * 0.015)\n    })\n  }\n\n  render() {\n    return (\n      <Grid gameWidth={this.state.gameWidth} gameHeight={this.state.gameHeight} />\n    );\n  }\n}\n\nexport default GameStage\n","import React, { Component } from \"react\";\nimport \"./styles.css\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from 'react-router-dom'\nimport GameStage from '../GameStage'\n\nconst mapStateToProps = state => {\n  return { playerName: state.playerName };\n}\n\nclass MainGame extends Component {\n  constructor(props) {\n        super(props);\n\n        this.state = {\n          gameWidth: -1,\n          gameHeight: -1\n        }\n\n        this.isPlayernameSet = this.isPlayernameSet.bind(this)\n        this.renderGameStage = this.renderGameStage.bind(this)\n        this.GameDiv = React.createRef()\n\n  }\n\n  isPlayernameSet() {\n    if (this.props.playerName === -1) {\n      return <Redirect to=\"/\" />\n    }\n  }\n\n  componentDidMount () {\n    this.setState({\n      gameWidth: this.GameDiv.current.offsetWidth,\n      gameHeight: this.GameDiv.current.offsetHeight\n    })\n\n  }\n\n  renderGameStage() {\n    if (this.state.gameWidth !== -1 && this.state.gameHeight !== -1) {\n      return <GameStage parentDivDimensions={this.state} />\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"game-background\">\n        {this.isPlayernameSet()}\n        <h1 className=\"game-title\">Welcome <u><b>{this.props.playerName}</b></u> to Trade Wars</h1>\n        <div className=\"game-window-container\">\n          <div ref={this.GameDiv} className=\"render-container\">\n            {this.renderGameStage()}\n          </div>\n          <div className=\"game-status-container\">\n            <div className=\"game-cargo-container\">\n              <p className=\"game-status-title\">Cargo</p>\n            </div>\n            <div className=\"game-status-text-container\">\n              <p className=\"game-status-title\">Messages</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nMainGame = connect(mapStateToProps)(MainGame)\nexport default MainGame\n","/*\n  {Name of Route}: {\n    path: {the path you want the navigation to go to as a string},\n    component: {the assigned identifier of the imported component from bellow},\n    disabled: {if you want the element to be unclickable put the boolean value true, and null/fasle/don't include for clickable}\n  }\n*/\nimport GetName from './GetName'\nimport MainGame from './MainGame'\n\nconst ROUTES = {\n  GetName: {\n    path: \"/\",\n    component: GetName,\n    disabled: false,\n  },\n  MainGame: {\n    path: \"/game\",\n    component: MainGame,\n    disabled: false,\n  }\n}\n\nexport default ROUTES\n","import React, { Component } from 'react';\nimport { HashRouter as Router } from 'react-router-dom'\nimport RouteHandle from './RouteHandle'\nimport ROUTES from '../routes.js'\n\nclass Start extends Component {\n  render() {\n    return (\n      <Router>\n        <RouteHandle routes={ROUTES}/>\n      </Router>\n    )\n  }\n}\n\nexport default Start;\n","import React from 'react';\nimport './App.css';\nimport Start from './containers/Start'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <main>\n        <Start/>\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { ADD_PLAYERNAME, ADD_WEBSOCKET } from '../constants/action-types'\n\nconst initialState = {\n  playerName: -1,\n  webSocket: new WebSocket('wss://trade-wars-backend.herokuapp.com/gameServer')\n}\n\nfunction rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case ADD_PLAYERNAME:\n      return Object.assign({}, state, {\n        playerName: state.playerName = action.payload\n      })\n    case ADD_WEBSOCKET:\n      return Object.assign({}, state, {\n        webSocket: state.webSocket = action.payload\n      })\n    default:\n      break\n  }\n  return state\n}\n\nexport default rootReducer\n","import { createStore } from 'redux'\nimport rootReducer from '../reducers/index'\n\nconst store = createStore(rootReducer)\n\nexport default store\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux'\nimport store from './js/store'\n\nReactDOM.render((\n  <Provider store={store}>\n    <App />\n  </Provider>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}