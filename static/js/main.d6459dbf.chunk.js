(this["webpackJsonptrade-wars-static"]=this["webpackJsonptrade-wars-static"]||[]).push([[0],{40:function(e,t,a){e.exports=a(66)},45:function(e,t,a){},47:function(e,t,a){},52:function(e,t,a){},54:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(25),c=a.n(i),s=(a(45),a(46),a(47),a(10)),l=a(11),m=a(14),o=a(12),u=a(15),h=a(22),d=a(21),p=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.routes;return Object.keys(e).map((function(t,a){return e[t].disabled?null:r.a.createElement(d.b,{key:a,exact:!0,path:e[t].path,component:e[t].component})}))}}]),t}(n.Component),y=a(6),g=a(68),b=a(69),f=a(71),v=a(70),N=(a(52),a(20)),j="ADD_PLAYERNAME";var O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(o.a)(t).call(this,e))).state={playerName:-1},a.tempPlayerName="",a.setPlayerName=a.setPlayerName.bind(Object(y.a)(a)),a.changeTempPlayerName=a.changeTempPlayerName.bind(Object(y.a)(a)),a.readyForRedirect=a.readyForRedirect.bind(Object(y.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"changeTempPlayerName",value:function(e){this.tempPlayerName=e.target.value}},{key:"setPlayerName",value:function(){var e=this;""!==this.tempPlayerName&&(fetch("https://trade-wars-backend.herokuapp.com/startSession",{method:"POST",mode:"no-cors",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({callsign:this.tempPlayerName})}),this.setState({playerName:this.tempPlayerName},(function(){var t=e.tempPlayerName;e.props.addPlayername(t)})))}},{key:"readyForRedirect",value:function(){if(-1!==this.state.playerName)return r.a.createElement(d.a,{to:"/game"})}},{key:"render",value:function(){return r.a.createElement("div",{className:"get-name-background"},this.readyForRedirect(),r.a.createElement("div",{className:"username-card"},r.a.createElement("h1",null,"Trade Wars!"),r.a.createElement(g.a,null,r.a.createElement(b.a,{onChange:this.changeTempPlayerName,placeholder:"Username"}),r.a.createElement(f.a,{addonType:"append"},r.a.createElement(v.a,{onClick:this.setPlayerName},"Play")))))}}]),t}(n.Component),E=Object(N.b)(null,(function(e){return{addPlayername:function(t){return e({type:j,payload:t})}}}))(O),P=(a(54),a(29)),k=a(3),w=Object(P.PixiComponent)("Circle",{create:function(e){return new k.g},applyProps:function(e,t,a){var n=a.x,r=a.y,i=a.radius,c=a.fill;e.clear(),e.beginFill(c),e.drawCircle(n,r,i),e.endFill()}}),S=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(o.a)(t).call(this,e))).state=a.props.parentDivDimensions,a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({gameWidth:this.state.gameWidth-.012*this.state.gameWidth,gameHeight:this.state.gameHeight-.015*this.state.gameHeight})}},{key:"render",value:function(){return r.a.createElement(P.Stage,{width:this.state.gameWidth,height:this.state.gameHeight,options:{backgroundColor:1909296}},r.a.createElement(w,{x:10,y:10,radius:5,fill:16711680}))}}]),t}(n.Component),C=S=Object(N.b)((function(e){return{playerName:e.playerName}}))(S),W=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(o.a)(t).call(this,e))).state={gameWidth:-1,gameHeight:-1},a.isPlayernameSet=a.isPlayernameSet.bind(Object(y.a)(a)),a.renderGameStage=a.renderGameStage.bind(Object(y.a)(a)),a.GameDiv=r.a.createRef(),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"isPlayernameSet",value:function(){if(-1===this.props.playerName)return r.a.createElement(d.a,{to:"/"})}},{key:"componentDidMount",value:function(){this.setState({gameWidth:this.GameDiv.current.offsetWidth,gameHeight:this.GameDiv.current.offsetHeight})}},{key:"renderGameStage",value:function(){if(-1!==this.state.gameWidth&&-1!==this.state.gameHeight)return r.a.createElement(C,{parentDivDimensions:this.state})}},{key:"render",value:function(){return r.a.createElement("div",{className:"game-background"},this.isPlayernameSet(),r.a.createElement("h1",{className:"game-title"},"Welcome ",r.a.createElement("u",null,r.a.createElement("b",null,this.props.playerName))," to Trade Wars"),r.a.createElement("div",{className:"game-window-container"},r.a.createElement("div",{ref:this.GameDiv,className:"render-container"},this.renderGameStage()),r.a.createElement("div",{className:"game-status-container"},r.a.createElement("div",{className:"game-cargo-container"},r.a.createElement("p",{className:"game-status-title"},"Cargo")),r.a.createElement("div",{className:"game-status-text-container"},r.a.createElement("p",{className:"game-status-title"},"Messages")))))}}]),t}(n.Component),D={GetName:{path:"/",component:E,disabled:!1},MainGame:{path:"/game",component:W=Object(N.b)((function(e){return{playerName:e.playerName}}))(W),disabled:!1}},G=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(p,{routes:D}))}}]),t}(n.Component);var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("main",null,r.a.createElement(G,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(28),x={playerName:-1};var F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object.assign({},e,{playerName:e.playerName=t.payload})}return e},R=Object(H.b)(F);c.a.render(r.a.createElement(N.a,{store:R},r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[40,1,2]]]);
//# sourceMappingURL=main.d6459dbf.chunk.js.map